<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Avalonia3DControl"
        xmlns:ui="clr-namespace:Avalonia3DControl.UI"
        mc:Ignorable="d" d:DesignWidth="1000" d:DesignHeight="700"
        x:Class="Avalonia3DControl.MainWindow"
        Title="Avalonia 3D Control"
        Width="1000" Height="700">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="300"/>
        </Grid.ColumnDefinitions>
        
        <!-- 主要内容区域 -->
        <Grid Grid.Column="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            
            <!-- 标题 -->
            <TextBlock Grid.Row="0" Text="Avalonia 3D Control" 
                       FontSize="24" FontWeight="Bold" 
                       HorizontalAlignment="Center" 
                       Margin="0,10,0,10"/>
            
            <!-- 3D控件区域 -->
            <Border Grid.Row="1" BorderBrush="Gray" BorderThickness="1" Margin="10">
                <local:OpenGL3DControl x:Name="OpenGLControl" Focusable="True"/>
            </Border>
            
            <!-- 操作提示 -->
            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="10">
                <TextBlock Text="左键拖拽: 旋转" Margin="10,0"/>
                <TextBlock Text="右键拖拽: 平移" Margin="10,0"/>
                <TextBlock Text="滚轮: 缩放" Margin="10,0"/>
            </StackPanel>
        </Grid>
        
        <!-- 右侧控制面板（紧凑布局：折叠分区 + 小字体） -->
        <ScrollViewer Grid.Column="1" Margin="6" TextElement.FontSize="12">
            <StackPanel Spacing="6">
                <TextBlock Text="控制面板" FontSize="14" FontWeight="Bold" Margin="0,0,0,6"/>

                <!-- 常用设置 -->
                <Expander Header="常用设置" IsExpanded="True">
                    <StackPanel Spacing="6" Margin="0,6,0,0">
                        <TextBlock Text="着色模式" FontWeight="SemiBold"/>
                        <WrapPanel>
                            <RadioButton x:Name="VertexShadingRadio" Content="顶点着色" GroupName="ShadingMode" IsChecked="True" Margin="0,0,8,0"/>
                            <RadioButton x:Name="TextureShadingRadio" Content="纹理模式" GroupName="ShadingMode" Margin="0,0,8,0"/>
                            <RadioButton x:Name="MaterialShadingRadio" Content="材质模式" GroupName="ShadingMode"/>
                        </WrapPanel>

                        <TextBlock Text="渲染模式" FontWeight="SemiBold"/>
                        <WrapPanel>
                            <RadioButton x:Name="PointRenderRadio" Content="点模式" GroupName="RenderMode" Margin="0,0,8,0"/>
                            <RadioButton x:Name="LineRenderRadio" Content="线框模式" GroupName="RenderMode" Margin="0,0,8,0"/>
                            <RadioButton x:Name="FillRenderRadio" Content="填充模式" GroupName="RenderMode" IsChecked="True"/>
                        </WrapPanel>

                        <TextBlock Text="投影模式" FontWeight="SemiBold"/>
                        <WrapPanel>
                            <RadioButton x:Name="Perspective3DRadio" Content="透视投影" GroupName="ProjectionMode" Margin="0,0,8,0"/>
                            <RadioButton x:Name="Orthographic2DRadio" Content="正交投影" GroupName="ProjectionMode" IsChecked="True"/>
                        </WrapPanel>

                        <TextBlock Text="视图锁定" FontWeight="SemiBold"/>
                        <WrapPanel>
                            <RadioButton x:Name="NoViewLockRadio" Content="自由视角" GroupName="ViewLockMode" IsChecked="True" Margin="0,0,8,0"/>
                            <RadioButton x:Name="XYViewLockRadio" Content="XY平面 (俯视)" GroupName="ViewLockMode" Margin="0,0,8,0"/>
                            <RadioButton x:Name="YZViewLockRadio" Content="YZ平面 (右视)" GroupName="ViewLockMode" Margin="0,0,8,0"/>
                            <RadioButton x:Name="XZViewLockRadio" Content="XZ平面 (前视)" GroupName="ViewLockMode"/>
                        </WrapPanel>
                    </StackPanel>
                </Expander>

                <!-- 模型 -->
                <Expander Header="模型" IsExpanded="False">
                    <StackPanel Spacing="6" Margin="0,6,0,0">
                        <WrapPanel>
                            <RadioButton x:Name="NoneModelRadio" Content="无模型" GroupName="ModelSelection" Margin="0,0,8,0"/>
                            <RadioButton x:Name="CubeModelRadio" Content="立方体 (红色塑料)" GroupName="ModelSelection" IsChecked="True" Margin="0,0,8,0"/>
                            <RadioButton x:Name="SphereModelRadio" Content="球体 (绿色金属)" GroupName="ModelSelection" Margin="0,0,8,0"/>
                            <RadioButton x:Name="WaveModelRadio" Content="波浪 (蓝色玻璃)" GroupName="ModelSelection" Margin="0,0,8,0"/>
                            <RadioButton x:Name="WaterDropModelRadio" Content="水滴 (青色玻璃)" GroupName="ModelSelection" Margin="0,0,8,0"/>
                            <RadioButton x:Name="CantileverBeamModelRadio" Content="悬臂梁 (银色金属)" GroupName="ModelSelection"/>
                        </WrapPanel>
                    </StackPanel>
                </Expander>

                <!-- 坐标轴与迷你坐标轴 -->
                <Expander Header="坐标轴与迷你坐标轴" IsExpanded="False">
                    <StackPanel Spacing="6" Margin="0,6,0,0">
                        <WrapPanel>
                            <CheckBox x:Name="ShowCoordinateAxesCheckBox" Content="显示坐标轴 (XYZ)" Margin="0,0,8,0"/>
                            <CheckBox x:Name="ShowMiniAxesCheckBox" Content="显示迷你坐标轴" IsChecked="True"/>
                        </WrapPanel>
                        <TextBlock Text="位置选择:"/>
                        <WrapPanel>
                            <RadioButton x:Name="MiniAxesTopLeftRadio" Content="左上角" GroupName="MiniAxesPosition" Margin="0,0,8,0"/>
                            <RadioButton x:Name="MiniAxesTopRightRadio" Content="右上角" GroupName="MiniAxesPosition" Margin="0,0,8,0"/>
                            <RadioButton x:Name="MiniAxesBottomLeftRadio" Content="左下角" GroupName="MiniAxesPosition" IsChecked="True" Margin="0,0,8,0"/>
                            <RadioButton x:Name="MiniAxesBottomRightRadio" Content="右下角" GroupName="MiniAxesPosition"/>
                        </WrapPanel>
                    </StackPanel>
                </Expander>

                <!-- 梯度条 -->
                <Expander Header="梯度条" IsExpanded="False">
                    <StackPanel Spacing="6" Margin="0,6,0,0">
                        <WrapPanel>
                            <CheckBox x:Name="ShowGradientBarCheckBox" Content="显示梯度条" IsChecked="True"/>
                        </WrapPanel>
                        <WrapPanel>
                            <CheckBox x:Name="GradientBarShowTicksCheckBox" Content="显示刻度" IsChecked="True" Margin="0,0,8,0"/>
                            <CheckBox x:Name="GradientBarNormalizedScaleCheckBox" Content="归一化刻度 (-1~1)" IsChecked="True"/>
                        </WrapPanel>
                        <TextBlock Text="位置:"/>
                        <WrapPanel>
                            <RadioButton x:Name="GradientBarLeftRadio" Content="左侧" GroupName="GradientBarPosition" Margin="0,0,8,0"/>
                            <RadioButton x:Name="GradientBarRightRadio" Content="右侧" GroupName="GradientBarPosition" IsChecked="True"/>
                        </WrapPanel>
                    </StackPanel>
                </Expander>

                <!-- 材质与透明度 -->
                <Expander Header="材质与透明度" IsExpanded="False">
                    <StackPanel Spacing="6" Margin="0,6,0,0">
                        <WrapPanel>
                            <Button x:Name="PlasticMaterialBtn" Content="塑料材质" Margin="0,0,8,0"/>
                            <Button x:Name="MetalMaterialBtn" Content="金属材质" Margin="0,0,8,0"/>
                            <Button x:Name="GlassMaterialBtn" Content="玻璃材质"/>
                        </WrapPanel>
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <TextBlock Text="透明度:" VerticalAlignment="Center"/>
                            <TextBlock x:Name="AlphaValueText" Text="100%" VerticalAlignment="Center"/>
                        </StackPanel>
                        <Slider x:Name="AlphaSlider"
                                Minimum="0.0"
                                Maximum="1.0"
                                Value="1.0"
                                TickFrequency="0.1"
                                IsSnapToTickEnabled="False"/>
                    </StackPanel>
                </Expander>

                <!-- 动画控制 -->
                <Expander Header="动画控制" IsExpanded="False">
                    <ui:ModalAnimationPanel x:Name="ModalAnimationPanel" Margin="0,6,0,0"/>
                </Expander>

                <!-- 技术特性 -->
                <Expander Header="技术特性" IsExpanded="False">
                    <StackPanel Spacing="2" Margin="0,6,0,0">
                        <TextBlock Text="• OpenGL 3.3+ 渲染"/>
                        <TextBlock Text="• 实时材质着色器"/>
                        <TextBlock Text="• 实时光照计算"/>
                        <TextBlock Text="• 多材质支持"/>
                        <TextBlock Text="• 交互式相机控制"/>
                        <TextBlock Text="• 实时透明度调节"/>
                        <TextBlock Text="• 振型动画播放"/>
                    </StackPanel>
                </Expander>
            </StackPanel>
        </ScrollViewer>
    </Grid>

</Window>
